<!DOCTYPE html><html><head><title>SDL2 Documentation - FAQWindows</title><meta charset="utf-8"><link rel="stylesheet" type="text/css" media="all" href="common.css"><link rel="stylesheet" type="text/css" media="screen" href="screen.css"></head><body><div id="sidebar">
<h1 id="wikinavigationheader">Wiki Navigation</h1>
<div class="sidepanel" id="sitenamelogo">
<div style="text-align:center"><a target="sdlpage" href="http://www.libsdl.org"><img src="logo.png" alt="SDL Logo"></a></div>
</div>
<ul id="wikiNavMenu">
<li class="sidepanel" id="sidebarSearch"><a href="index.html@FAQWindows.html#" id="searchFormClose" onclick="return hideSearchForm()">
</a>Search Wiki
<form id="searchform" method="get" onsubmit="document.location.href='index.html@'+document.getElementById('searchinput').value+'.html';return false;">
<div>
<label style="display: none;" for="searchinput">Search:</label>
<input class="disabled" id="searchinput" name="value" value="" size="20" type="text">
<input id="titlesearch" name="titlesearch" value="Titles" style="visibility:hidden" type="submit">
</div>
</form>
</li><li>
</li><li id="sidewaysSearch"><a href="index.html@FAQWindows.html#" onclick="showSearchForm()">Search &gt;</a></li> 
<li class="sidepanel">Navigation Links<ul id="navibar"><li class="wikilink current"><a href="index.html@FrontPage.html">FrontPage</a></li><li class="wikilink"><a href="index.html@Introduction.html">Introduction</a></li><li class="wikilink"><a href="index.html@Support.html">Support</a></li><li class="wikilink"><a href="index.html@CategoryAPI.html">API By Name</a></li><li class="wikilink"><a href="index.html@APIByCategory.html">API By Category</a></li></ul></li>
</ul>
</div><div class="sdl" id="content" lang="en"><span class="anchor" id=
"top"></span> <span class="anchor" id="line-1"></span><span class=
"anchor" id="line-2"></span><span class="anchor" id=
"line-3"></span>
<p class="line867"></p>
<h1 id="FAQ:_Windows">FAQ: Windows</h1>
<span class="anchor" id="line-4"></span><span class="anchor" id=
"line-5"></span>
<p class="line867"></p>
<div class="table-of-contents">
<p class="table-of-contents-heading">Contents</p>
<ol>
<li><a href="index.html@FAQWindows.html#FAQ:_Windows">FAQ: Windows</a>
<ol>
<li><a href="index.html@FAQWindows.html#Using_SDL">Using SDL</a>
<ol>
<li><a href="index.html@FAQWindows.html#General">General</a>
<ol>
<li><a href="index.html@FAQWindows.html#What_is_supported.3F">What is supported?</a></li>
</ol>
</li>
<li><a href="index.html@FAQWindows.html#Windows_2000">Windows 2000</a>
<ol>
<li><a href=
"index.html@FAQWindows.html#I.27m_running_Windows_2000_and_I_can.27t_copy_SDL.dll.21">I'm
running Windows 2000 and I can't copy SDL.dll!</a></li>
</ol>
</li>
</ol>
</li>
<li><a href="index.html@FAQWindows.html#Developing_with_SDL">Developing with SDL</a>
<ol>
<li><a href="index.html@FAQWindows.html#Windows_CE">Windows CE</a>
<ol>
<li><a href="index.html@FAQWindows.html#Can_I_build_SDL_for_Windows_CE.3F">Can I build SDL
for Windows CE?</a></li>
</ol>
</li>
<li><a href="index.html@FAQWindows.html#Visual_C.2B-.2B-">Visual C++</a>
<ol>
<li><a href="index.html@FAQWindows.html#How_do_I_use_SDL_with_Visual_C.2B-.2B-.3F">How do I
use SDL with Visual C++?</a></li>
<li><a href=
"index.html@FAQWindows.html#When_using_Visual_C.2B-.2B-_I_get_.22fatal_error_C1083:_Cannot_open_include_file:_.27windows.h.27:_No_such_file_or_directory.22">
When using Visual C++ I get "fatal error C1083: Cannot open include
file: 'windows.h': No such file or directory"</a></li>
<li><a href=
"index.html@FAQWindows.html#When_using_Visual_C.2B-.2B-_I_get_link_errors_relating_to_MSVCRT.LIB_or_LIBC">
When using Visual C++ I get link errors relating to MSVCRT.LIB or
LIBC</a></li>
<li><a href=
"index.html@FAQWindows.html#When_using_Visual_C.2B-.2B-_5.2C_I_get_the_following_error_message:_SDL.lib_:_fatal_error_LNK1106:_invalid_file_or_disk_full">
When using Visual C++ 5, I get the following error message: SDL.lib
: fatal error LNK1106: invalid file or disk full</a></li>
<li><a href=
"index.html@FAQWindows.html#Why_can.27t_I_use_Visual_C.2B-.2B-_debugger_with_SDL_applications.3F">
Why can't I use Visual C++ debugger with SDL applications?</a></li>
<li><a href=
"index.html@FAQWindows.html#Why_does_the_Visual_C.2B-.2B-_debugger_freeze_at_every_breakpoint_when_debugging_SDL_apps.3F">
Why does the Visual C++ debugger freeze at every breakpoint when
debugging SDL apps?</a></li>
</ol>
</li>
<li><a href="index.html@FAQWindows.html#gcc">gcc</a>
<ol>
<li><a href="index.html@FAQWindows.html#How_do_I_use_SDL_with_gcc_on_Windows.3F">How do I use
SDL with gcc on Windows?</a></li>
</ol>
</li>
<li><a href="index.html@FAQWindows.html#Dev-C.2B-.2B-">Dev-C++</a>
<ol>
<li><a href="index.html@FAQWindows.html#How_do_I_use_SDL_with_Dev-C.2B-.2B-.3F">How do I use
SDL with Dev-C++?</a></li>
<li><a href=
"index.html@FAQWindows.html#Choosing_.22console_application.22_in_the_project_parameters_will_result_in_generating_a_program_that_will_.2Asystematically.2A_make_Vista_users_crash.">
Choosing "console application" in the project parameters will
result in generating a program that will *systematically* make
Vista users crash.</a></li>
</ol>
</li>
<li><a href="index.html@FAQWindows.html#MinGW.2FMYSYS">MinGW/MYSYS</a>
<ol>
<li><a href="index.html@FAQWindows.html#How_do_I_use_SDL_with_MinGW.2FMYSYS.3F">How do I use
SDL with MinGW/MYSYS?</a></li>
</ol>
</li>
<li><a href="index.html@FAQWindows.html#Miscellaneous">Miscellaneous</a>
<ol>
<li><a href=
"index.html@FAQWindows.html#I_get_.22Undefined_reference_to_.27SDL_main.27.22_...">I get
"Undefined reference to 'SDL_main'" ...</a></li>
<li><a href=
"index.html@FAQWindows.html#I_get_.22Undefined_reference_to_.27WinMain.4016.27.22">I get
"Undefined reference to 'WinMain@16'"</a></li>
<li><a href=
"index.html@FAQWindows.html#I_get_undefined_references_to_various_SDL_functions...">I get
undefined references to various SDL functions...</a></li>
<li><a href=
"index.html@FAQWindows.html#Why_doesn.27t_SDL_WM_ToggleFullScreen.28.29_work_on_Windows.3F">Why
doesn't SDL_WM_ToggleFullScreen() work on Windows?</a></li>
<li><a href=
"index.html@FAQWindows.html#How_do_I_avoid_creating_stdout.txt_and_stderr.txt.3F">How do I
avoid creating stdout.txt and stderr.txt?</a></li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
</div>
<span class="anchor" id="line-6"></span><span class="anchor" id=
"line-7"></span>
<p class="line867"></p>
<h2 id="Using_SDL">Using SDL</h2>
<span class="anchor" id="line-8"></span>
<p class="line867"></p>
<h3 id="General">General</h3>
<span class="anchor" id="line-9"></span>
<p class="line867"></p>
<h4 id="What_is_supported.3F">What is supported?</h4>
<span class="anchor" id="line-10"></span>
<p class="line874">SDL supports Windows XP, Vista, and Windows 7.
<span class="anchor" id="line-11"></span><span class="anchor" id=
"line-12"></span></p>
<p class="line874">SDL can be built with Visual C++, Cygwin, MinGW,
and Dev-C++. <span class="anchor" id="line-13"></span><span class=
"anchor" id="line-14"></span></p>
<p class="line862">For the latest information see <a class="http"
href=
"http://hg.libsdl.org/SDL/file/default/README-platforms.txt">http://hg.libsdl.org/SDL/file/default/README-platforms.txt</a>
<span class="anchor" id="line-15"></span><span class="anchor" id=
"line-16"></span><span class="anchor" id="line-17"></span></p>
<p class="line867"></p>
<h3 id="Windows_2000">Windows 2000</h3>
<span class="anchor" id="line-18"></span>
<p class="line867"></p>
<h4 id="I.27m_running_Windows_2000_and_I_can.27t_copy_SDL.dll.21">
I'm running Windows 2000 and I can't copy SDL.dll!</h4>
<span class="anchor" id="line-19"></span>
<p class="line874">For some reason, archives created on Linux have
the "Encrypted" property set when unpacked on Windows 2000. This
can be unset by pushing Advanced from the General tab of the
properties window and unchecking Encrypt contents check box. The
files can then be copied normally. <span class="anchor" id=
"line-20"></span><span class="anchor" id=
"line-21"></span><span class="anchor" id="line-22"></span></p>
<p class="line867"></p>
<h2 id="Developing_with_SDL">Developing with SDL</h2>
<span class="anchor" id="line-23"></span>
<p class="line867"></p>
<h3 id="Windows_CE">Windows CE</h3>
<span class="anchor" id="line-24"></span>
<p class="line867"></p>
<h4 id="Can_I_build_SDL_for_Windows_CE.3F">Can I build SDL for
Windows CE?</h4>
<span class="anchor" id="line-25"></span>
<p class="line874">SDL is not officially supported on Windows CE,
but some people have successfully built and run SDL applications on
Windows CE. <span class="anchor" id="line-26"></span><span class=
"anchor" id="line-27"></span></p>
<p class="line874">SDL 1.2.5 and newer contain project files and
information on building SDL for Windows CE. Take a look at the file
README.WinCE in the source archive for more information.
<span class="anchor" id="line-28"></span><span class="anchor" id=
"line-29"></span></p>
<p class="line867"></p>
<h3 id="Visual_C.2B-.2B-">Visual C++</h3>
<span class="anchor" id="line-30"></span>
<p class="line867"></p>
<h4 id="How_do_I_use_SDL_with_Visual_C.2B-.2B-.3F">How do I use SDL
with Visual C++?</h4>
<span class="anchor" id="line-31"></span>
<p class="line874">Read the file "VisualC.html" included with both
the SDL Visual C++ development archive, and the SDL source archive.
<span class="anchor" id="line-32"></span><span class="anchor" id=
"line-33"></span></p>
<p class="line867"></p>
<h4 id=
"When_using_Visual_C.2B-.2B-_I_get_.22fatal_error_C1083:_Cannot_open_include_file:_.27windows.h.27:_No_such_file_or_directory.22">
When using Visual C++ I get "fatal error C1083: Cannot open include
file: 'windows.h': No such file or directory"</h4>
<span class="anchor" id="line-34"></span>
<p class="line874">You need to install the platform SDK, as
described here: <span class="anchor" id="line-35"></span><a class=
"http" href=
"http://msdn.microsoft.com/vstudio/express/visualc/usingpsdk/">http://msdn.microsoft.com/vstudio/express/visualc/usingpsdk/</a>
<span class="anchor" id="line-36"></span><span class="anchor" id=
"line-37"></span></p>
<p class="line867"></p>
<h4 id=
"When_using_Visual_C.2B-.2B-_I_get_link_errors_relating_to_MSVCRT.LIB_or_LIBC">
When using Visual C++ I get link errors relating to MSVCRT.LIB or
LIBC</h4>
<span class="anchor" id="line-38"></span>
<p class="line874">SDL is dynamically linked with the
multi-threaded version of the Microsoft Visual C runtime. You need
to edit your project settings, go to the C++ language tab, change
the listbox to "Code Generation" settings, and then change the
runtime library to "Multi-threaded DLL". Make sure you do this with
all projects that you link into your application. <span class=
"anchor" id="line-39"></span><span class="anchor" id=
"line-40"></span></p>
<p class="line867"></p>
<h4 id=
"When_using_Visual_C.2B-.2B-_5.2C_I_get_the_following_error_message:_SDL.lib_:_fatal_error_LNK1106:_invalid_file_or_disk_full">
When using Visual C++ 5, I get the following error message: SDL.lib
: fatal error LNK1106: invalid file or disk full</h4>
<span class="anchor" id="line-41"></span>
<p class="line874">This happens with Visual C++ 5, if you use the
prebuilt SDL library and have not updated to the latest service
pack. <span class="anchor" id="line-42"></span><span class="anchor"
id="line-43"></span></p>
<p class="line867"></p>
<h4 id=
"Why_can.27t_I_use_Visual_C.2B-.2B-_debugger_with_SDL_applications.3F">
Why can't I use Visual C++ debugger with SDL applications?</h4>
<span class="anchor" id="line-44"></span>
<p class="line874">You need to pass the SDL_INIT_NOPARACHUTE flag
to your calls to SDL_Init() to make the msvc debugger work.
Otherwise the debugger will be unable to trace exceptions, and
other debugging features like run to cursor won't work.
<span class="anchor" id="line-45"></span><span class="anchor" id=
"line-46"></span></p>
<p class="line867"></p>
<h4 id=
"Why_does_the_Visual_C.2B-.2B-_debugger_freeze_at_every_breakpoint_when_debugging_SDL_apps.3F">
Why does the Visual C++ debugger freeze at every breakpoint when
debugging SDL apps?</h4>
<span class="anchor" id="line-47"></span>
<p class="line874">The DirectX drivers have a system lock while you
have video surfaces locked. To avoid this, you can set the video
driver to GDI by setting the SDL_VIDEODRIVER environment variable
to: windib. <span class="anchor" id="line-48"></span>Since this
changes video and mouse/keyboard input drivers, you'll see a
difference in performance and features available, but you'll be
able to debug your application more easily. <span class="anchor"
id="line-49"></span><span class="anchor" id=
"line-50"></span><span class="anchor" id="line-51"></span></p>
<p class="line867"></p>
<h3 id="gcc">gcc</h3>
<span class="anchor" id="line-52"></span>
<p class="line867"></p>
<h4 id="How_do_I_use_SDL_with_gcc_on_Windows.3F">How do I use SDL
with gcc on Windows?</h4>
<span class="anchor" id="line-53"></span>
<p class="line874">You can build and use SDL with gcc natively
using either Cygwin or MinGW, or you can build a gcc cross-compiler
targeting Windows from another platform. <span class="anchor" id=
"line-54"></span>Setting up these environments is documented at:
<a class="http" href=
"http://www.libsdl.org/extras/win32/gcc.html">http://www.libsdl.org/extras/win32/gcc.html</a>
<span class="anchor" id="line-55"></span>Once the build environment
is set up, you can build your applications as though you are on
UNIX. See the Linux FAQ for more details on building applications
in this environment. <span class="anchor" id=
"line-56"></span><span class="anchor" id=
"line-57"></span><span class="anchor" id="line-58"></span></p>
<p class="line867"></p>
<h3 id="Dev-C.2B-.2B-">Dev-C++</h3>
<span class="anchor" id="line-59"></span>
<p class="line867"></p>
<h4 id="How_do_I_use_SDL_with_Dev-C.2B-.2B-.3F">How do I use SDL
with Dev-C++?</h4>
<span class="anchor" id="line-60"></span>
<p class="line862">Try the Dev-C++ tutorial available at: <a class=
"http" href=
"http://cone3d.gamedev.net/cgi-bin/index.pl?page=tutorials/gfxsdl/tut1">
http://cone3d.gamedev.net/cgi-bin/index.pl?page=tutorials/gfxsdl/tut1</a>.
<span class="anchor" id="line-61"></span>If you have problems,
please contact the author of the tutorial. <span class="anchor" id=
"line-62"></span><span class="anchor" id="line-63"></span></p>
<p class="line862">There are also step by step instructions at:
<a class="http" href=
"http://docs.deninet.com/sdl_on_dev_c.htm">http://docs.deninet.com/sdl_on_dev_c.htm</a>
<span class="anchor" id="line-64"></span><span class="anchor" id=
"line-65"></span></p>
<p class="line867"></p>
<h4 id=
"Choosing_.22console_application.22_in_the_project_parameters_will_result_in_generating_a_program_that_will_.2Asystematically.2A_make_Vista_users_crash.">
Choosing "console application" in the project parameters will
result in generating a program that will *systematically* make
Vista users crash.</h4>
<span class="anchor" id="line-66"></span>
<p class="line874">Choose "gui application" instead of "console
application" when compiling for Vista. <span class="anchor" id=
"line-67"></span><span class="anchor" id=
"line-68"></span><span class="anchor" id="line-69"></span></p>
<p class="line867"></p>
<h3 id="MinGW.2FMYSYS">MinGW/MYSYS</h3>
<span class="anchor" id="line-70"></span>
<p class="line867"></p>
<h4 id="How_do_I_use_SDL_with_MinGW.2FMYSYS.3F">How do I use SDL
with MinGW/MYSYS?</h4>
<span class="anchor" id="line-71"></span>
<p class="line862">See the <a href="index.html@SDL1.2Tutorials.html#Setup">SDL and
MYSYS/MinGW</a> Tutorial <span class="anchor" id=
"line-72"></span><span class="anchor" id="line-73"></span></p>
<p class="line867"></p>
<h3 id="Miscellaneous">Miscellaneous</h3>
<span class="anchor" id="line-74"></span>
<p class="line867"></p>
<h4 id="I_get_.22Undefined_reference_to_.27SDL_main.27.22_...">I
get "Undefined reference to 'SDL_main'" ...</h4>
<span class="anchor" id="line-75"></span>
<p class="line874">Make sure that you are declaring main() as:
<span class="anchor" id="line-76"></span><span class="anchor" id=
"line-77"></span></p>
<p class="line874">#include "SDL.h" <span class="anchor" id=
"line-78"></span><span class="anchor" id="line-79"></span></p>
<p class="line874">int main(int argc, char *argv[]) <span class=
"anchor" id="line-80"></span><span class="anchor" id=
"line-81"></span></p>
<p class="line862">You should be using main() instead of <a class=
"nonexistent" href="index.html@WinMain.html">WinMain</a>() even though you are
creating a Windows application, because SDL provides a version of
<a class="nonexistent" href="index.html@WinMain.html">WinMain</a>() which performs
some SDL initialization before calling your main code. If for some
reason you need to use <a class="nonexistent" href="index.html@WinMain.html">WinMain</a>(), take a look at the SDL source code in
src/main/win32/SDL_main.c to see what kind of initialization you
need to do in your <a class="nonexistent" href="index.html@WinMain.html">WinMain</a>() function so that SDL works properly.
<span class="anchor" id="line-82"></span><span class="anchor" id=
"line-83"></span></p>
<p class="line867"></p>
<h4 id="I_get_.22Undefined_reference_to_.27WinMain.4016.27.22">I
get "Undefined reference to 'WinMain@16'"</h4>
<span class="anchor" id="line-84"></span>
<p class="line874">Under Visual C++, you need to link with
SDLmain.lib. Under the gcc build environments including Dev-C++,
you need to link with the output of "sdl-config --libs", which is
usually: -lmingw32 -lSDLmain -lSDL -mwindows <span class="anchor"
id="line-85"></span><span class="anchor" id="line-86"></span></p>
<p class="line867"></p>
<h4 id="I_get_undefined_references_to_various_SDL_functions...">I
get undefined references to various SDL functions...</h4>
<span class="anchor" id="line-87"></span>
<p class="line874">When you're compiling with gcc, you need to make
sure the output of sdl-config follows your source file on the
command line: <span class="anchor" id="line-88"></span>gcc -o test
test.c <tt class=
"backtick">sdl-config&nbsp;--cflags&nbsp;--libs</tt> <span class=
"anchor" id="line-89"></span><span class="anchor" id=
"line-90"></span></p>
<p class="line874">If you're getting undefined references to
functions in SDL_image or SDL_mixer, make sure you're actually
linking with those libraries as well. <span class="anchor" id=
"line-91"></span><span class="anchor" id="line-92"></span></p>
<p class="line867"></p>
<h4 id=
"Why_doesn.27t_SDL_WM_ToggleFullScreen.28.29_work_on_Windows.3F">
Why doesn't SDL_WM_ToggleFullScreen() work on Windows?</h4>
<span class="anchor" id="line-93"></span>
<p class="line862">The semantics of SDL_WM_<a class="nonexistent"
href="index.html@ToggleFullScreen.html">ToggleFullScreen</a>() are that switching
between fullscreen and windowed mode is transprent to the
application. The display pixels pointer does not change, the
display depth does not change, etc. This cannot be guaranteed on
Windows. However, there is a simple method you can use to change
between fullscreen and windowed mode: <span class="anchor" id=
"line-94"></span>flags ^= SDL_FULLSCREEN; <span class="anchor" id=
"line-95"></span>screen = SDL_<a class="nonexistent" href="index.html@SetVideoMode.html">SetVideoMode</a>(..., flags); <span class="anchor"
id="line-96"></span><span class="anchor" id="line-97"></span></p>
<p class="line867"></p>
<h4 id="How_do_I_avoid_creating_stdout.txt_and_stderr.txt.3F">How
do I avoid creating stdout.txt and stderr.txt?</h4>
<span class="anchor" id="line-98"></span>
<p class="line867"><span class="anchor" id="line-99"></span></p>
<p class="line867"><span class="anchor" id="line-100"></span></p>
<p class="line874">"I believe inside the Visual C++ project that
comes with SDL there is a SDL_nostdio target you can build which
does what you want(TM)." <span class="anchor" id=
"line-101"></span><span class="anchor" id="line-102"></span></p>
<p class="line867"><span class="anchor" id="line-103"></span></p>
<p class="line867"><span class="anchor" id="line-104"></span></p>
<p class="line874">"If you define "NO_STDIO_REDIRECT" and recompile
SDL, I think it will fix the problem." <span class="anchor" id=
"line-105"></span>(Answer courtesy of Bill Kendrick) <span class=
"anchor" id="line-106"></span><span class="anchor" id=
"bottom"></span></p>
</div>
</body></html>